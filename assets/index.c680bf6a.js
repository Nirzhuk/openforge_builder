var v=Object.defineProperty,x=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var p=(t,e,n)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m=(t,e)=>{for(var n in e||(e={}))b.call(e,n)&&p(t,n,e[n]);if(g)for(var n of g(e))N.call(e,n)&&p(t,n,e[n]);return t},h=(t,e)=>x(t,k(e));import{j as d,u as y,r as l,c as C,a as j,C as w,T as L,P as O,O as E,b as R,R as S,d as M}from"./vendor.6278432b.js";const P=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}};P();const o=d.exports.jsx,c=d.exports.jsxs,T=d.exports.Fragment;function F(t){const e=l.exports.useRef(),{nodes:n}=y("/wall.gltf");return o("group",h(m({ref:e},t),{dispose:null,children:o("mesh",{geometry:n.dungeon_wall.geometry,material:n.dungeon_wall.material,children:o("meshStandardMaterial",{attach:"material",color:"#fff"})})}))}y.preload("/wall.gltf");const u=C(t=>({ready:!1,target:null,setTarget:e=>t({target:e}),setReady:e=>t({target:e}),set:t,session:null}));function A({setReady:t}){return l.exports.useEffect(()=>()=>void t(!0),[]),null}function B(){const{progress:t}=j();return c("div",{children:["loading ",t.toFixed()," %"]})}function D({children:t}){const[e,n]=l.exports.useState(!1),[s,r]=l.exports.useState(!1),[a,i]=u(f=>[f.session,f.set]);return l.exports.useEffect(()=>{console.log(s,e),s&&e&&i({ready:!0})},[e,s]),c(T,{children:[o(l.exports.Suspense,{fallback:o(A,{setReady:n}),children:t}),o("div",{className:`text-center fullscreen bg ${e?"ready":"notready"} ${s&&"clicked"}`,children:o("div",{className:"stack",children:c("div",{className:"intro-keys",children:[o("h1",{className:"text-5xl",children:"Openforge Builder"}),o("a",{className:"continue-link",href:"#",onClick:()=>e&&r(!0),children:e?"Click to continue":o(B,{})})]})})})]})}const I=({Component:t})=>{const e=u(r=>r.setTarget),[n,s]=l.exports.useState(!1);return R(n),o(t,{onClick:r=>e(r.object),onPointerOver:()=>s(!0),onPointerOut:()=>s(!1)})};function $(){const{target:t,setTarget:e}=u(),n=l.exports.useRef(null);return l.exports.useEffect(()=>{if(n.current){const{current:s}=n,r=a=>console.log(a.target.object.position,t.position);return s.addEventListener("dragging-changed",r),()=>s.removeEventListener("dragging-changed",r)}}),l.exports.useEffect(()=>{const s=r=>{console.log(t&&t.rotation,r.key)};return document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}},[]),o(D,{children:o("div",{className:"col-end-auto",children:c(w,{dpr:[1,2],onPointerMissed:()=>e(null),children:[o(I,{Component:F}),t&&o(L,{ref:n,showY:!0,translationSnap:1,object:t,mode:"rotate"}),o(O,{makeDefault:!0,position:[20,20,20]}),o(E,{makeDefault:!0}),o("gridHelper",{args:[100,100,"#8f8f8f","#1f1f1f"]})]})})})}const H=()=>o("div",{className:"ui grid w-80",children:c("div",{className:"bg-gray-100 p-3 border-gray-500",children:[o("img",{src:"/stone.jpg",alt:"stone"}),"asdasdsaasda"]})}),_=()=>c("div",{className:"font-mono h-full w-full relative grid auto-rows-min",children:[o("div",{className:"bg-color  text-gray-300 h-10 p-2",children:"Openforge Builder"}),c("div",{className:"grid container-app h-screen",children:[o(H,{}),o($,{})]})]});S.render(o(M.StrictMode,{children:o(_,{})}),document.getElementById("root"));
